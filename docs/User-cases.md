# 分布式温控系统用例模型说明书

> 2014211306 班 F 组
>
> 李俊宁 董星彤 张有杰 赵亮 左旭彤
>
> 2017 年 04 月 xx 日

[TOC]

> 迭代历史：
>
> - v0.1 | 2017/4/17 | John Lee | 创建文档
> - v0.1 | 2017/4/17 | 张有杰    | 完成主控机用例描述部分

## 1. 文档介绍

### 1.1 文档目的

### 1.2 文档范围

### 1.3 读者对象

### 1.4 参考文献

### 1.5 术语与缩写解释

## 2. 项目背景

## 3. 用例图

## 4. 用例说明

### 4.1 主控机用例描述

#### 4.1.1 主控机001用例描述
- 用例编号:UC_M_001
- 用例名称:运行状态切换
- 范围:主控机
- 级别:用户目标级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:完成开、关机状态之间的切换
- 前置条件:主控机系统正常无故障
- 后置条件:主控机系统切换状态
- 主要成功场景
  1. 管理员选择目标切换状态
  2. 系统成功完成想目标状态的切换，用例结束。
- 扩展（或替代流程)
  - \*a 任何时刻，系统停电或硬件不正常
    - 记录日志，系统关闭
    - 管理人员重启系统
  - 1a. 管理员开启主控机系统
    - 成功开机，进入成功场景 2
  - 1b. 管理员关闭主控机系统
    - 成功关机，进入成功场景 2
- 特殊需求
  - 无
- 发生频率
  - 管理员切换主控机运行状态时

#### 4.1.2 主控机002用例描述
- 用例编号:UC_M_002
- 用例名称:主控机开机
- 范围:主控机
- 级别:子功能级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:成功打开主控机，使其保持待机状态。
- 前置条件:主控机系统处于关机状态
- 后置条件:主控机系统成功开机，进入待机状态
- 主要成功场景
  1. 管理员手动按下开机按钮
  2. 管理员成功验证身份
  3. 主控机成功开机，进入管理界面，用例结束
- 扩展（或替代流程)
  - \*a 任何时刻，系统停电或硬件不正常
    - 记录日志，系统关闭
    - 管理人员重启系统，系统重新进入成功场景 1
  - 2a. 管理员验证身份失败，用户名或密码错误
    - 重新验证身份，系统重新进入成功场景 1
  - 2b. 失败次数超过三次
    - 主控机系统锁定。
    - 管理员重启系统，系统重新进入成功场景 1
  - 2c. 主机系统锁定
    - 使用预设PIN码解锁系统，重新设置管理员账户密码，返回成功场景 1
- 特殊需求
  - 无
- 发生频率
  - 管理员打开主控机时使用

#### 4.1.3 主控机003用例描述
- 用例编号:UC_M_002
- 用例名称:主控机关机
- 范围:主控机
- 级别:子功能级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:关闭主控机。
- 前置条件:主控机系统处于开机状态
- 后置条件:主控机系统成功关机。
- 主要成功场景
  1. 管理员点击关机按钮
  2. 系统停止所有监控及温控服务，记录日志
  3. 系统向所有从机发送关机信息
  2. 主控机系统成功关机，用例结束。
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 无
- 发生频率
  - 管理员关闭主控机时使用

#### 4.1.4 主控机004用例描述
- 用例编号:UC_M_003
- 用例名称:选项配置更改
- 范围:主控机
- 级别:用户目标级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:对系统选项及参数进行配置
- 前置条件:主控机系统处于开机状态，正常运行
- 后置条件:主控机配置修改成功
- 主要成功场景
  1. 管理员打开配置管理界面
  2. 管理员选择想要更改的配置选项
  3. 管理员输入新的参数选项并提交
  4. 系统完成新参数选项的配置，用例结束
- 扩展（或替代流程)
  - 2a: 管理员选择工作模式的配置
    - 切换主控机供暖/制冷的工作模式
    - 返回成功场景 1
  - 2b. 管理员调整计费标准
    - 调节不同风速的收费标准
    - 返回成功场景 1
  - 2c. 负载均衡策略配置
    - 调整使用不同的负载均衡策略
    - 返回成功场景 1
  - 2d. 刷新频率设置
    - 从控机心跳频率设置
    - 返回成功场景 1
  - 2e. 系统配置按默认值初始化
    - 进入成功场景 4
- 特殊需求
  - 无
- 发生频率
  - 管理员更改系统配置时使用

#### 4.1.5 主控机005用例描述
- 用例编号:UC_M_005
- 用例名称:报表管理
- 范围:主控机
- 级别:用户目标级用例
- 主要参与者:管理员
- 前置条件:系统正常运行
- 后置条件:管理员成功完成报表管理
- 主要成功场景
  1. 管理员打开报表管理界面
  2. 选择具体管理项，进行报表管理
  3. 完成报表管理，用例结束
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 无
- 发生频率
  - 管理员管理报表时

#### 4.1.6 主控机006用例描述
- 用例编号:UC_M_006
- 用例名称:报表导入导出
- 范围:主控机
- 级别:子用例级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:对主控机报表进行导入导出
- 前置条件:系统进入报表管理界面
- 后置条件:主控机成功管理报表
- 主要成功场景
  1. 管理员打开报表管理界面
  2. 管理员选择导入导出选项
  3. 进行报表管理，用例结束。
- 扩展（或替代流程)
  - 3a. 选择打印报表
    - 系统连接外设，打印报表数据
  - 3b. 选择导入报表
    - 选择数据库文件，进行报表数据导入
  - 3c. 选择导出报表
    - 选择报表导出位置及文件类型，完成报表数据导出
- 特殊需求
  - 系统在导入及导出报表时对不同的数据库文件应具有兼容性
  - 系统打印报表时应可以选择具体的打印选项，如选择纸张大小等。
- 发生频率
  - 管理员需要导入及导出报表内容时


#### 4.1.7 主控机007用例描述
- 用例编号:UC_M_007
- 用例名称:报表查询
- 范围:主控机
- 级别:子用例级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:查询报表内容
- 前置条件:系统进入报表管理界面
- 后置条件:管理员成功查询报表，系统显示报表内容
- 主要成功场景
  1. 管理员选择查询的报表类型
  2. 管理员选择目标报表选项，如日期、时间段、用户、房间号等
  3. 验证报表信息合法，成功查询
  4. 系统显示相应的报表报表，用例结束
- 扩展（或替代流程)
  - 1a. 管理员选择日报表，进入成功场景 2
  - 1b. 管理员选择月报表，进入成功场景 2
  - 1c. 管理员选择年报表，进入成功场景 2
  - 3a. 报表选项不合法，重新输入
    - 返回成功场景 2
- 特殊需求
  - 系统可以以图表等方式灵活显示报表统计信息
- 发生频率
  - 管理员查询报表时

#### 4.1.8 主控机008用例描述
- 用例编号:UC_M_008
- 用例名称:从控机状态监测
- 范围:主控机
- 级别:用户目标级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:主控机能够对从控机目标温度、当前温度及风速进行统计
- 前置条件:系统正常运行
- 后置条件:主控机成功监控从控机状态
- 主要成功场景
  1. 管理员点开从控机信息监控界面
  2. 主控机监控从控机目标温度、当前温度、风速信息
  3. 主控机正常完成监控功能，用例结束
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 主控机应能够监测出从控机的异常情况，比如长时间低温、高温运转等。
- 发生频率
    - 管理员需要导入及导出报表内容时


#### 4.1.9 主控机009用例描述
- 用例编号:UC_M_009
- 用例名称:费用统计
- 范围:主控机
- 级别:子功能级别
- 主要参与者:管理员
- 项目相关人员及其兴趣:管理员:主控机能够正确统计各从控机的费用信息
- 前置条件:系统正常运行，监测各房间状态
- 后置条件:主控机实时统计费用
- 主要成功场景
  1. 从控机费用正确统计并显示。
  2. 从控机能耗正确统计并显示。
  3. 用例结束。
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 主控机应能够监测出从控机的异常情况，比如费用异常增多，能耗过大等。
- 发生频率
    - 从控机开启，并发出温控请求后。

#### 4.1.10 主控机010用例描述
- 用例编号:UC_M_010
- 用例名称:从控机获取信息
- 范围:主控机
- 级别:用户目标级别
- 主要参与者:从控机
- 项目相关人员及其兴趣:从控机:获取从控机的耗能和计费情况及主控机状态
- 前置条件:主控机正常运行并成功统计并显示从控机的耗能和计费情况
- 后置条件:从控机成功获取从控机耗能及计费情况、主控机状态
- 主要成功场景
  1. 从控机向主控机周期性发出查询请求
  2. 从控机成功收到查询结果
  3. 从控机显示耗能和统计情况及主控机工作状态
  4. 信息获取成功，用例结束
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 从控机可以采用图表、数字等方式结合，清晰显示查询结果。
- 发生频率
  - 从控机周期性获取信息

#### 4.1.11 主控机011用例描述
- 用例编号:UC_M_011
- 用例名称:从控机调控
- 范围:主控机
- 级别:用户目标级别
- 主要参与者:从控机
- 项目相关人员及其兴趣:从控机:向主控机发出调控请求

- 前置条件:主控机正常送风
- 后置条件:主控机响应请求，进行温控
- 主要成功场景
  1. 从控机向主控机发出温控请求
  2. 主控机收到温控请求，进行调控
  3. 主控机响应温控请求，用例结束
- 扩展（或替代流程)
  - 无
- 特殊需求
  - 面对时间间隔过低的来自同一从控机的请求，主控机只响应最后一次请求。
  - 主控机对从控机请求的接受时间应在可接受的范围内，如1s。
- 发生频率
  - 用户使用从控机发出调控请求

#### 4.1.12 主控机012用例描述
- 用例编号:UC_M_012
- 用例名称:调节温度请求
- 范围:主控机
- 级别:子功能级别
- 主要参与者:从控机
- 项目相关人员及其兴趣:从控机:向主控机发出调节目标温度的请求 主控机:接受从机调节请求，并返回确认信息
- 前置条件:主控机正常送风，从机正常运行
- 后置条件:主控机响应请求，成功调整从控机目标温度，并向从机发出确认信息
- 主要成功场景
  1. 从控机向主控机发出调节温度的请求
  2. 主控机收到温控请求，进行目标温度的调整
  3. 主控机成功响应温度调整请求，用例结束
- 扩展（或替代流程)
  - 2a. 若目标温度与主控机工作模式对应的温度范围矛盾
     - 报告错误信息，响应从控机
  - 3a. 若当前从控机数目超过主控机负载能力
     - 从控机请求服从主控机负载均衡策略
- 特殊需求
  - 主控机对从控机请求的接受时间应在可接受的范围内，如1s。
- 发生频率
  - 用户使用从控机调节温度

#### 4.1.13 主控机013用例描述
- 用例编号:UC_M_013
- 用例名称:调节风速请求
- 范围:主控机
- 级别:子功能级别
- 主要参与者:从控机
- 项目相关人员及其兴趣:从控机:向主控机发出调整风速的请求 主控机:接受从机调节请求，并返回确认信息
- 前置条件:主控机正常送风，从机正常运行
- 后置条件:主控机响应请求，调整分配给从控机的风速，并向从机发出确认信息
- 主要成功场景
  1. 从控机向主控机发出风速调整请求
  2. 主控机收到风控请求，进行风速调整
  3. 主控机成功响应风控请求，向从控机返回确认信息，用例结束
- 扩展（或替代流程)
  - 1a. 从控机发送请求时已达到目标温度并停止送风
    - 主控机发送“等待”响应
    - 从控机实际温度与目标温度相差1℃时，再次响应从控机请求，开始送风。
- 特殊需求
  - 主控机对从控机请求的接受时间应在可接受的范围内，如1s。
- 发生频率
  - 用户使用从控机调节风速
